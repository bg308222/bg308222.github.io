(this["webpackJsonplong-short-term-model"]=this["webpackJsonplong-short-term-model"]||[]).push([[0],{310:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(78),u=c.n(a),j=c(55),o=c(14),s=c(312),b=c(68),l=c(160),i=c(161),O=c(65),d=c(163),h=c(8),f={value:window.innerWidth,content:.95},x={value:window.innerHeight,content:.75},p=1,g=2,v=1e7,y=3e7,k=1.2,C=5,m=5,S=!0,w=!0,R=function(e){var t=e.toFixed(2).split("."),c=Object(o.a)(t,2),n=c[0],r=c[1];return"".concat(n.replace(/\B(?=(\d{3})+(?!\d))/g,",")).concat(0!==+r?"."+r:"")},F=function(e,t){var c=t.target.value.replaceAll(",","");isNaN(+c)||e(0===+c?1:+c)};var I=function(){var e=Object(n.useState)(p),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(g),u=Object(o.a)(a,2),I=u[0],K=u[1],M=Object(n.useState)(1e7),A=Object(o.a)(M,2),B=A[0],E=A[1],J=Object(n.useState)(y),L=Object(o.a)(J,2),N=L[0],P=L[1],T=Object(n.useState)(k),D=Object(o.a)(T,2),H=D[0],W=D[1],q=Object(n.useState)(C),z=Object(o.a)(q,2),G=z[0],Q=z[1],U=Object(n.useState)(m),V=Object(o.a)(U,2),X=V[0],Y=V[1],Z=Object(n.useState)(!1),$=Object(o.a)(Z,2),_=$[0],ee=$[1],te=Object(n.useState)(S),ce=Object(o.a)(te,2),ne=ce[0],re=ce[1],ae=Object(n.useState)(w),ue=Object(o.a)(ae,2),je=ue[0],oe=ue[1],se=Object(n.useRef)(),be=Object(n.useRef)(0),le=Object(n.useRef)(),ie=Object(n.useRef)(),Oe=Object(n.useRef)(0),de=Object(n.useRef)(1),he=Object(n.useRef)(),fe=Object(n.useRef)(c),xe=Object(n.useRef)(N),pe=Object(n.useState)([{day:0,long:N,short:c,diff:0}]),ge=Object(o.a)(pe,2),ve=ge[0],ye=ge[1],ke=Object(n.useCallback)((function(){se.current=void 0,le.current=void 0,ie.current=void 0,fe.current=c,xe.current=N,de.current=1,he.current&&clearInterval(he.current),ye([{day:0,long:N,short:c,diff:0}])}),[N,c]),Ce=Object(n.useCallback)((function(){var e=Math.pow(H,1/365),t=Math.pow(I,1/30),c=Object(j.a)(new Array(X)).map((function(){xe.current*=e,fe.current>B?fe.current+=B*(t-1):fe.current*=t;var c={day:de.current++,short:fe.current,long:xe.current,diff:Math.abs(xe.current-fe.current)};return!ie.current&&se.current&&c.long>c.short&&(ie.current=c.day,Oe.current=c.long),!se.current&&c.long<c.short&&(se.current=c.day,be.current=c.short),!le.current&&c.short>B&&(le.current=c.day),c}));ye(ve.length<1500?[].concat(Object(j.a)(ve),Object(j.a)(c)):[].concat(Object(j.a)(ve.slice(X-ve.length)),Object(j.a)(c)))}),[ve,X,H,B,I]);return Object(n.useEffect)((function(){ke()}),[N,c,H,I,B,ke]),Object(n.useEffect)((function(){_&&(Ce(),ee(!1))}),[_,Ce]),Object(h.jsxs)(n.Fragment,{children:[Object(h.jsxs)(s.a,{width:f.value*f.content,height:x.value*x.content,data:ve,margin:{left:f.value*(1-f.content)},children:[Object(h.jsx)(b.a,{formatter:function(e,t){return R(e)}}),Object(h.jsx)(l.a,{dataKey:"day"}),Object(h.jsx)(i.a,{tickFormatter:function(e){return"".concat(e).match("e")?e:"".concat(R(e))}}),Object(h.jsx)(O.a,{verticalAlign:"top"}),ne&&Object(h.jsx)(d.a,{type:"monotone",dataKey:"long",stroke:"#8884d8"}),je&&Object(h.jsx)(d.a,{type:"monotone",dataKey:"short",stroke:"#82ca9d"}),ne&&je&&Object(h.jsx)(d.a,{type:"monotone",dataKey:"diff",stroke:"#ff0000"})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:ne,onChange:function(e){re(e.target.checked)}}),"\u986f\u793a\u9577\u7dda\u5716"]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:je,onChange:function(e){oe(e.target.checked)}}),"\u986f\u793a\u77ed\u7dda\u5716"]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["\u9577\u7dda\u8d77\u59cb\u91d1\u984d",Object(h.jsx)("input",{type:"text",value:R(N),onChange:function(e){F(P,e)}})]}),Object(h.jsxs)("label",{children:["\u9577\u7dda\u5e74\u5831\u916c(\u500d)",Object(h.jsx)("input",{type:"text",value:R(H),onChange:function(e){F(W,e)}})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["\u77ed\u7dda\u8d77\u59cb\u91d1\u984d",Object(h.jsx)("input",{type:"text",value:R(c),onChange:function(e){F(r,e)}})]}),Object(h.jsxs)("label",{children:["\u77ed\u7dda\u6708\u5831\u916c(\u500d)",Object(h.jsx)("input",{type:"text",value:R(I),onChange:function(e){F(K,e)}})]}),Object(h.jsxs)("label",{children:["\u77ed\u7dda\u81e8\u754c\u91d1\u984d",Object(h.jsx)("input",{type:"text",value:R(B),onChange:function(e){F(E,e)}})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["\u901f\u5ea6(\u6ce2/\u79d2)",Object(h.jsx)("input",{type:"text",value:R(G),onChange:function(e){F(Q,e)}})]}),Object(h.jsxs)("label",{children:["\u905e\u589e(\u65e5/\u6ce2)",Object(h.jsx)("input",{type:"text",value:R(X),onChange:function(e){F(Y,e)}})]}),Object(h.jsx)("button",{onClick:function(){he.current&&clearInterval(he.current),he.current=setInterval((function(){ee(!0)}),1e3/G)},children:"\u958b\u59cb"}),Object(h.jsx)("button",{onClick:function(){he.current&&clearInterval(he.current)},children:"\u66ab\u505c"}),Object(h.jsx)("button",{onClick:function(){ke()},children:"\u91cd\u65b0(\u50c5\u91cd\u8a2d\u5716\u8868)"}),Object(h.jsx)("button",{onClick:function(){Y(m),P(y),W(k),E(v),r(p),K(g),Q(C),re(S),oe(w),ke()},children:"\u91cd\u7f6e(\u56de\u5fa9\u539f\u59cb\u8a2d\u5b9a\u8207\u91cd\u8a2d\u5716\u8868)"}),Object(h.jsxs)("div",{children:["\u9577\u7dda\u76ee\u524d\u91d1\u984d: ",R(xe.current),"(".concat(R((xe.current-N)/N*100),"%)"),Object(h.jsx)("span",{style:{color:"red"},children:ie.current?"(\u65bc".concat(ie.current,"\u65e5\u5f8c\u8d85\u904e\u77ed\u7dda\u91d1\u984d").concat(R(Oe.current),")"):""})]}),Object(h.jsxs)("div",{children:["\u77ed\u7dda\u76ee\u524d\u91d1\u984d: ",R(fe.current),"(".concat(R((fe.current-c)/c*100),"%)"),Object(h.jsx)("span",{style:{color:"red"},children:se.current?"(\u65bc".concat(se.current,"\u65e5\u5f8c\u8d85\u904e\u9577\u7dda\u91d1\u984d").concat(R(be.current),")"):""}),Object(h.jsx)("span",{style:{color:"blue"},children:le.current?"(\u65bc"+le.current+"\u65e5\u5f8c\u8d85\u904e\u81e8\u754c\u91d1\u984d)":""})]}),Object(h.jsxs)("div",{children:["\u7d93\u904e\u5e7e\u5e74: ",R(de.current/365)]})]})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,317)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,u=t.getTTFB;c(e),n(e),r(e),a(e),u(e)}))};u.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root")),K()}},[[310,1,2]]]);
//# sourceMappingURL=main.b6e5c177.chunk.js.map